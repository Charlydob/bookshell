#view-finance.finance-scope {
  padding: calc(env(safe-area-inset-top, 0px) + 24px) 14px 108px;
}

#view-finance .finance-tab {
  --bg: #090d1b;
  --glass: rgba(255, 255, 255, 0.08);
  --stroke: rgba(255, 255, 255, 0.14);
  --text: #eef1ff;
  --muted: #9ca6cb;
  --accent: #8c6bff;
  --pos: #5ee1a6;
  --neg: #ff7b93;
  color: var(--text);
  max-width: 460px;
  margin: 0 auto;
  display: grid;
  gap: 12px;
}

#view-finance .finance-tab__mini-nav {
  display: grid;
  grid-template-columns: repeat(5, minmax(0, 1fr));
  gap: 10px;
}

#view-finance .finance-tab__mini-btn {
  border-radius: 999px;
  aspect-ratio: 1;
  border: 1px solid var(--stroke);
  background: radial-gradient(circle at 30% 20%, rgba(255, 255, 255, 0.28), rgba(255, 255, 255, 0.02));
  backdrop-filter: blur(18px);
  color: var(--text);
}

#view-finance .finance-tab__mini-btn.is-active {
  box-shadow: 0 0 0 1px rgba(145, 112, 255, 0.5), 0 0 18px rgba(133, 102, 255, 0.56);
  background: radial-gradient(circle at 30% 20%, rgba(162, 137, 255, 0.75), rgba(91, 62, 218, 0.28));
}

#view-finance .finance-tab__panel,
#view-finance .finance-tab__controls,
#view-finance .finance-tab__compare-row,
#view-finance .finance-tab__account,
#view-finance .finance-tab__chip,
#view-finance .finance-modal {
  border: 1px solid var(--stroke);
  border-radius: 22px;
  background: linear-gradient(165deg, rgba(255, 255, 255, 0.11), rgba(255, 255, 255, 0.03));
  backdrop-filter: blur(20px);
  box-shadow: 0 14px 34px rgba(0, 0, 0, 0.35);
}

#view-finance .finance-tab__panel { padding: 14px; }
#view-finance .finance-tab__eyebrow { margin: 0; color: var(--muted); font-size: .78rem; letter-spacing: .08em; }
#view-finance .finance-tab__total { margin: 4px 0; font-size: clamp(2rem, 9vw, 2.5rem); }
#view-finance .finance-tab__delta { margin: 0; font-weight: 700; }
#view-finance .finance-tab__chart { height: 128px; margin-top: 10px; border-radius: 18px; overflow: hidden; border: 1px solid rgba(255,255,255,.16); }
#view-finance .finance-tab__chart path { fill: none; stroke: #a78bff; stroke-width: 3; filter: drop-shadow(0 0 8px rgba(165, 138, 255, .8)); }

#view-finance .finance-tab__controls { padding: 10px; display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 8px; }
#view-finance .finance-pill {
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.2);
  background: rgba(9, 14, 28, 0.72);
  color: var(--text);
  min-height: 40px;
  padding: 0 12px;
}

#view-finance .finance-tab__compare-row { padding: 10px; display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
#view-finance .finance-tab__chip { padding: 8px 10px; font-size: .78rem; }
#view-finance .finance-tab__accounts { display: grid; gap: 10px; }
#view-finance .finance-tab__account {
  width: 100%;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  gap: 10px;
  text-align: left;
}
#view-finance .finance-tab__account-main { display: grid; gap: 6px; }
#view-finance .finance-tab__balance-input {
  border: 1px dashed rgba(255,255,255,.4);
  border-radius: 12px;
  padding: 8px 10px;
  background: rgba(4, 7, 16, 0.45);
  color: #fff;
  font-size: 1.2rem;
  font-weight: 700;
  max-width: 170px;
}
#view-finance .finance-tab__balance-input:focus { outline: 2px solid rgba(146, 117, 255, .7); }
#view-finance .finance-tab__empty { color: var(--muted); margin: 6px 0; }
#view-finance .finance-tab__panel-head { display: flex; justify-content: space-between; align-items: center; gap: 8px; }

#view-finance .is-pos { color: var(--pos); }
#view-finance .finance-tab__account.is-pos,
#view-finance .finance-tab__chip.is-pos { background: linear-gradient(135deg, rgba(70, 170, 125, .45), rgba(15, 40, 34, .8)); }
#view-finance .is-neg { color: var(--neg); }
#view-finance .finance-tab__account.is-neg,
#view-finance .finance-tab__chip.is-neg { background: linear-gradient(135deg, rgba(156, 66, 95, .45), rgba(43, 16, 26, .82)); }
#view-finance .finance-tab__account.is-neutral,
#view-finance .finance-tab__chip.is-neutral { color: var(--muted); }

#view-finance .finance-tab__view.is-hidden { display: none; }
#view-finance .finance-tab__placeholder { min-height: 160px; display: grid; align-content: center; }

#view-finance .finance-tab__calendar-controls { display: grid; grid-template-columns: repeat(3, minmax(0, 1fr)); gap: 8px; margin-bottom: 10px; }
#view-finance .finance-tab__calendar-grid { display: grid; grid-template-columns: repeat(7, minmax(0, 1fr)); gap: 6px; }
#view-finance .finance-tab__day {
  min-height: 64px;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  padding: 6px;
  display: grid;
  align-content: start;
  font-size: .72rem;
  gap: 2px;
}
#view-finance .finance-tab__day strong { font-size: .82rem; color: #fff; }
#view-finance .finance-tab__day.is-out { opacity: .45; }

#finance-modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(3, 5, 10, 0.5);
  backdrop-filter: blur(10px);
  padding: 16px;
  z-index: 999;
}
#finance-modal-backdrop.hidden { display: none; }
#view-finance .finance-modal {
  max-width: 460px;
  margin: 8vh auto 0;
  padding: 14px;
  color: var(--text);
}
#view-finance .finance-modal header { display: flex; justify-content: space-between; align-items: center; }
#view-finance .finance-tab__table-wrap { max-height: 220px; overflow: auto; margin-top: 8px; }
#view-finance table { width: 100%; border-collapse: collapse; font-size: .78rem; }
#view-finance th, #view-finance td { padding: 6px 4px; border-bottom: 1px solid rgba(255,255,255,.12); text-align: left; }
